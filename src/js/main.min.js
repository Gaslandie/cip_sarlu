async function loadComponent(t){try{var e,n=window.location.pathname,o=(console.log("üìç Chemin actuel: "+n),`src/components/${t}.html`),a=(console.log("üì¶ Tentative de chargement: "+o),await fetch(o));if(a.ok)return e=await a.text(),console.log("‚úÖ Composant charg√© avec succ√®s: "+t),e;throw new Error(`Erreur HTTP ${a.status}: `+a.statusText)}catch(e){return console.error(`‚ùå Erreur de chargement du composant ${t}:`,e),null}}async function loadAllComponents(){console.log("üîÑ D√©but du chargement des composants...");try{var e,t,n,o=await loadComponent("preloader"),a=(o?(e=document.getElementById("preloader-container"))?(e.innerHTML=o,console.log("‚úÖ Preloader ins√©r√© dans #preloader-container")):console.warn("‚ö†Ô∏è #preloader-container non trouv√©"):console.warn("‚ö†Ô∏è Preloader HTML non charg√©"),await loadComponent("navbar")),l=(a?(t=document.getElementById("navbar-container"))?(t.innerHTML=a,console.log("‚úÖ Navbar ins√©r√©e dans #navbar-container")):console.warn("‚ö†Ô∏è #navbar-container non trouv√©"):console.warn("‚ö†Ô∏è Navbar HTML non charg√©"),await loadComponent("footer"));return l?(n=document.getElementById("footer-container"))?(n.innerHTML=l,console.log("‚úÖ Footer ins√©r√© dans #footer-container")):console.warn("‚ö†Ô∏è #footer-container non trouv√©"):console.warn("‚ö†Ô∏è Footer HTML non charg√©"),console.log("‚úÖ Tous les composants ont √©t√© trait√©s"),!0}catch(e){return console.error("‚ùå Erreur globale lors du chargement:",e),!1}}function isMobile(){return window.innerWidth<=768}async function initializeApp(){console.log("üöÄ Initialisation de l'application CIP SARLU..."),console.log("üìç URL actuelle:",window.location.href),console.log("üìç Pathname:",window.location.pathname),console.log("\n--- √âTAPE 1: Chargement des composants ---"),await loadAllComponents(),await new Promise(e=>setTimeout(e,200)),console.log("\n--- √âTAPE 2: Initialisation des fonctionnalit√©s ---"),"undefined"!=typeof AOS?(AOS.init({duration:1e3,once:!0,offset:100,disable:isMobile()}),console.log("‚úÖ AOS initialis√©")):console.warn("‚ö†Ô∏è AOS non disponible"),initializePreloader(),initializeCustomCursor(),initializeParticles(),initializeTopBar(),initializeNavigation(),initializeCarousel(),initializeForm(),initializeScrollTop(),initializeEventListeners(),console.log("\n‚úÖ Application compl√®tement initialis√©e!")}function initializePreloader(){let t=()=>{let e=document.querySelector(".preloader");e?(e.classList.add("hidden"),setTimeout(()=>{e.style.display="none",console.log("‚úÖ Preloader cach√©")},500)):console.warn("‚ö†Ô∏è .preloader non trouv√©")};window.addEventListener("load",()=>{setTimeout(t,800)}),setTimeout(()=>{var e=document.querySelector(".preloader");e&&"none"!==e.style.display&&(console.warn("‚ö†Ô∏è For√ßage du masquage du preloader apr√®s 5 secondes"),t())},5e3)}function initializeCustomCursor(){let t=document.querySelector(".cursor"),n=document.querySelector(".cursor-follower");t&&n?isMobile()?(t.style.display="none",n.style.display="none",console.log("‚úÖ Curseur d√©sactiv√© (mobile)")):(document.addEventListener("mousemove",e=>{t.style.left=e.clientX+"px",t.style.top=e.clientY+"px",setTimeout(()=>{n.style.left=e.clientX+"px",n.style.top=e.clientY+"px"},100)}),document.querySelectorAll("a, button, .project-card, .service-card").forEach(e=>{e.addEventListener("mouseenter",()=>{t.style.transform="translate(-50%, -50%) scale(1.5)",t.style.backgroundColor="rgba(41, 219, 25, 0.2)",n.style.transform="translate(-50%, -50%) scale(1.2)"}),e.addEventListener("mouseleave",()=>{t.style.transform="translate(-50%, -50%) scale(1)",t.style.backgroundColor="transparent",n.style.transform="translate(-50%, -50%) scale(1)"})}),console.log("‚úÖ Curseur personnalis√© activ√©")):console.warn("‚ö†Ô∏è Curseur personnalis√© non trouv√©")}function initializeParticles(){var t=document.getElementById("particles");if(t){for(let e=0;e<30;e++){var n=document.createElement("div");n.className="particle",n.style.left=100*Math.random()+"%",n.style.top=100*Math.random()+"%",n.style.animationDuration=20*Math.random()+10+"s",n.style.animationDelay=15*Math.random()+"s",t.appendChild(n)}console.log("‚úÖ Particules cr√©√©es (30)")}else console.warn("‚ö†Ô∏è Conteneur de particules non trouv√©")}function initializeTopBar(){let o=document.querySelector(".top-bar"),a=document.getElementById("nav");if(o){let t,n=(window.addEventListener("scroll",()=>{var e=window.scrollY;100<e?(o.classList.add("hidden"),a&&(a.style.top="0")):(o.classList.remove("hidden"),a&&(a.style.top="40px")),t=e}),document.querySelectorAll(".lang-btn"));n.forEach(e=>{e.addEventListener("click",function(){var e=this.dataset.lang;n.forEach(e=>e.classList.remove("active")),this.classList.add("active"),localStorage.setItem("cip-language",e),console.log("üåê Langue chang√©e: "+e.toUpperCase()),showLanguageNotification(e)})});var e=localStorage.getItem("cip-language")||"fr",e=document.querySelector(`.lang-btn[data-lang="${e}"]`);e&&(n.forEach(e=>e.classList.remove("active")),e.classList.add("active")),console.log("‚úÖ Top bar initialis√©e")}else console.warn("‚ö†Ô∏è Top bar non trouv√©e")}function showLanguageNotification(e){var t={fr:"Langue fran√ßaise s√©lectionn√©e",en:"English language selected"},n=document.querySelector(".lang-notification");n&&n.remove();let o=document.createElement("div");o.className="lang-notification",o.innerHTML='<i class="fas fa-globe"></i> '+(t[e]||t.fr),document.body.appendChild(o),setTimeout(()=>o.classList.add("show"),10),setTimeout(()=>{o.classList.remove("show"),setTimeout(()=>o.remove(),300)},2e3)}function initializeNavigation(){let e=document.getElementById("nav");e?(window.addEventListener("scroll",()=>{100<window.scrollY?e.classList.add("scrolled"):e.classList.remove("scrolled")}),highlightActiveNavLink(),console.log("‚úÖ Navigation scroll activ√©e")):console.warn('‚ö†Ô∏è Navbar (#nav) non trouv√©e - v√©rifiez que navbar.html contient id="nav"')}function highlightActiveNavLink(){let n=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".navbar-nav .nav-link").forEach(e=>{var t=e.getAttribute("href");t===n||""===n&&"index.html"===t||"/"===n&&"index.html"===t?e.classList.add("active"):e.classList.remove("active")}),console.log("üìç Page actuelle: "+n)}let currentSlide=0,autoPlayInterval;function initializeCarousel(){var e=document.getElementById("carouselTrack");if(e){var t=document.querySelectorAll(".service-card").length;if(console.log(`üìä Carrousel: ${t} slides trouv√©s`),0===t)console.warn("‚ö†Ô∏è Aucune slide trouv√©e");else{var n=document.getElementById("indicators");if(n){n.innerHTML="";for(let e=0;e<t;e++){var o=document.createElement("button");o.className="indicator",0===e&&o.classList.add("active"),o.setAttribute("aria-label","Aller au slide "+(e+1)),o.setAttribute("aria-current",0===e?"true":"false"),o.addEventListener("click",()=>goToSlide(e)),n.appendChild(o)}}var a=document.getElementById("prevBtn"),l=document.getElementById("nextBtn"),a=(a&&a.addEventListener("click",prevSlide),l&&l.addEventListener("click",nextSlide),updateCarousel(),startAutoPlay(),document.querySelector(".carousel-wrapper"));if(a&&(a.addEventListener("mouseenter",()=>clearInterval(autoPlayInterval)),a.addEventListener("mouseleave",startAutoPlay),isMobile())){let t=0,n;e.addEventListener("touchstart",e=>{t=e.changedTouches[0].screenX,clearInterval(autoPlayInterval)}),e.addEventListener("touchend",e=>{n=e.changedTouches[0].screenX,e=t-n,50<Math.abs(e)&&(0<e?nextSlide:prevSlide)(),startAutoPlay()})}document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&prevSlide(),"ArrowRight"===e.key&&nextSlide()}),console.log("‚úÖ Carrousel initialis√©")}}else console.warn("‚ö†Ô∏è Carrousel non trouv√©")}function updateCarousel(){var e=document.getElementById("carouselTrack"),t=document.querySelectorAll(".indicator");e&&(e.style.transform=`translateX(-${100*currentSlide}%)`),t.forEach((e,t)=>{e.classList.toggle("active",t===currentSlide),e.setAttribute("aria-current",t===currentSlide?"true":"false")})}function goToSlide(e){var t=document.querySelectorAll(".service-card");0!==t.length&&(currentSlide=(e+t.length)%t.length,updateCarousel())}function nextSlide(){var e=document.querySelectorAll(".service-card");0!==e.length&&(currentSlide=(currentSlide+1)%e.length,updateCarousel())}function prevSlide(){var e=document.querySelectorAll(".service-card");0!==e.length&&(currentSlide=(currentSlide-1+e.length)%e.length,updateCarousel())}function startAutoPlay(){clearInterval(autoPlayInterval);var e=isMobile()?8e3:6e3;autoPlayInterval=setInterval(nextSlide,e)}function initializeForm(){let s=document.getElementById("contactForm");if(s){let i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,r=/^[+\d\s\-\(\)]{10,}$/;var e=document.getElementById("email"),t=document.getElementById("phone");e&&e.addEventListener("input",function(){this.style.borderColor=i.test(this.value)?"#28a745":"#dc3545"}),t&&t.addEventListener("input",function(){this.style.borderColor=r.test(this.value)?"#28a745":"#dc3545"}),s.addEventListener("submit",function(e){e.preventDefault(),s.classList.add("was-validated");var e=document.getElementById("name")?.value?.trim()||"",t=document.getElementById("email")?.value||"",n=document.getElementById("phone")?.value||"",o=document.getElementById("service")?.value||"",a=document.getElementById("message")?.value?.trim()||"";let l=!0;if([{id:"name",valid:0<e.length,required:!0},{id:"email",valid:i.test(t),required:!0},{id:"phone",valid:r.test(n),required:!0},{id:"service",valid:0<o.length,required:!0},{id:"message",valid:0<a.length,required:!0}].forEach(e=>{var t=document.getElementById(e.id);t&&(e.valid?(t.classList.remove("is-invalid"),t.style.borderColor="#28a745"):(t.classList.add("is-invalid"),t.style.borderColor="#dc3545",l=!1))}),l){let t=s.querySelector('button[type="submit"]'),n=t.innerHTML;t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Envoi en cours...',t.disabled=!0,setTimeout(()=>{var e=document.getElementById("successModal");e&&"undefined"!=typeof bootstrap&&new bootstrap.Modal(e).show(),s.reset(),s.classList.remove("was-validated"),document.querySelectorAll(".form-control").forEach(e=>{e.style.borderColor="",e.classList.remove("is-invalid")}),t.innerHTML=n,t.disabled=!1},1500)}else if(!document.querySelector(".error-toast")){let e=document.createElement("div");e.className="error-toast",e.innerHTML='<i class="fas fa-exclamation-circle"></i> Veuillez corriger les erreurs dans le formulaire.',document.body.appendChild(e),setTimeout(()=>e.remove(),4e3)}}),console.log("‚úÖ Formulaire initialis√©")}else console.warn("‚ö†Ô∏è Formulaire de contact non trouv√©")}function initializeScrollTop(){let e=document.getElementById("scrollTop");e?(window.addEventListener("scroll",()=>{500<window.scrollY?e.classList.add("visible"):e.classList.remove("visible")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),console.log("‚úÖ Scroll to top initialis√©")):console.warn("‚ö†Ô∏è Bouton scroll to top non trouv√©")}function initializeEventListeners(){document.addEventListener("click",function(e){var t=e.target.closest('a[href^="#"]');t&&"#"!==t.getAttribute("href")&&(t=t.getAttribute("href"),t=document.querySelector(t))&&(e.preventDefault(),e=document.querySelector(".navbar")?.offsetHeight||0,t=t.offsetTop-e-20,window.scrollTo({top:t,behavior:"smooth"}),isMobile())&&(e=document.getElementById("navbarNav"))&&e.classList.contains("show")&&(t=bootstrap.Collapse.getInstance(e))&&t.hide()}),document.querySelectorAll("img").forEach(e=>{e.onerror=function(){this.style.display="none";var t=this.parentElement,n=t.classList.contains("service-image"),o=t.classList.contains("project-image"),a=t.classList.contains("about-image-main");if(n||o||a){t.style.background="linear-gradient(135deg, #29db19, #00d4ff)",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.color="white",t.style.fontWeight="bold",t.style.textAlign="center",t.style.padding="20px",t.style.minHeight="300px";let e=a?"√Ä Propos":o?"Projet":n?"Service":"Image";t.innerHTML=`
                    <div>
                        <div style="font-size: 24px; margin-bottom: 10px;">
                            <i class="fas fa-image"></i>
                        </div>
                        <div>Image non disponible</div>
                        <small style="opacity: 0.8;">${e} - CIP SARLU</small>
                    </div>
                `}}});let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{document.getElementById("carouselTrack")&&(updateCarousel(),clearInterval(autoPlayInterval),startAutoPlay())},250)}),console.log("‚úÖ Event listeners initialis√©s")}console.log("\n"+"=".repeat(60)),console.log("üöÄ CIP SARLU - D√©marrage de l'application"),console.log("=".repeat(60)),"loading"===document.readyState?(console.log("‚è≥ Document en cours de chargement..."),document.addEventListener("DOMContentLoaded",()=>{console.log("‚úÖ DOM Content Loaded"),setTimeout(initializeApp,100)})):(console.log("‚úÖ DOM d√©j√† charg√©"),setTimeout(initializeApp,100));